!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(4),u=r(a),i=n(2),o=r(i),l=n(5),c=r(l),d=n(6),s=r(d),f=n(1),m=r(f),h={init:function(){h.initModel(),s.default.init(),c.default.init(),o.default.init(),m.default.init()},initModel:function(){var t=!0,e=!1,n=void 0;try{for(var r,a=u.default.data[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){r.value.clicks=0}}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}},getAllCats:function(){return u.default.data},increaseCounter:function(){u.default.data[u.default.currentCat].clicks+=1,o.default.render()},increaseLoadedImageCounter:function(){u.default.loadImgCounter+=1},getCurrentCat:function(){return u.default.data[u.default.currentCat]},setCurrentCat:function(t){u.default.currentCat=t},getLoadedPercent:function(){return 100*u.default.loadImgCounter/u.default.data.length},updateInfo:function(t){var e=u.default.data[u.default.currentCat],n=Object.keys(t),r=!0,a=!1,i=void 0;try{for(var l,d=n[Symbol.iterator]();!(r=(l=d.next()).done);r=!0){var s=l.value;e[s]=t[s]}}catch(t){a=!0,i=t}finally{try{!r&&d.return&&d.return()}finally{if(a)throw i}}c.default.init(),o.default.render()},loadAllCats:function(){var t=h.getAllCats(),e=[],n=!0,r=!1,a=void 0;try{for(var u,i=t[Symbol.iterator]();!(n=(u=i.next()).done);n=!0){var l=u.value;!function(t){var n=new Promise(function(e,n){var r=new Image;r.src=t.url,r.onload=function(){h.increaseLoadedImageCounter(),s.default.renderProgressBar(),e(t.url)},r.onerror=function(){r.src="",h.increaseLoadedImageCounter(),s.default.renderProgressBar(),e("")}});e.push(n)}(l)}}catch(t){r=!0,a=t}finally{try{!n&&i.return&&i.return()}finally{if(r)throw a}}Promise.all(e).then(function(){setTimeout(function(){s.default.hideProgressBar(),o.default.show(),o.default.render()},500)})},adminFormOpenState:function(t){return null!==t&&"boolean"==typeof t?(u.default.adminFormOpenState=t,!1):u.default.adminFormOpenState}};e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),u={init:function(){var t=this;this.form=document.querySelector(".admin-form"),this.catName=document.querySelector(".admin-form__cat-name"),this.catURL=document.querySelector(".admin-form__cat-url"),this.catClicks=document.querySelector(".admin-form__cat-clicks"),this.cancelBtn=document.querySelector(".admin-form-cancel"),this.submitBtn=document.querySelector(".admin-form-submit"),this.cancelBtn.addEventListener("click",function(e){t.close(),e.preventDefault()}),this.submitBtn.addEventListener("click",function(e){var n={name:u.catName.value,url:u.catURL.value,clicks:+u.catClicks.value};a.default.updateInfo(n),t.close(),e.preventDefault()}),this.form.style.display="none"},render:function(){this.form.style.display="block";var t=a.default.getCurrentCat();this.catName.value=t.name,this.catURL.value=t.url,this.catClicks.value=t.clicks,a.default.adminFormOpenState(!0)},close:function(){this.catName.value="",this.catURL.value="",this.catClicks.value="",this.form.style.display="none",a.default.adminFormOpenState(!1)}};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),u=r(a),i=n(1),o=r(i),l={init:function(){this.catNameElement=document.querySelector(".cat__name"),this.catImageElement=document.querySelector(".cat__image"),this.catClickCounterElement=document.querySelector(".cat__clickCounter"),this.cat=document.querySelector(".cat"),this.adminBtn=document.querySelector(".cat__adminBtn"),this.cat.style.display="none",this.adminBtn.addEventListener("click",function(){u.default.adminFormOpenState()||o.default.render()}),this.catImageElement.addEventListener("click",function(){u.default.increaseCounter()}),u.default.loadAllCats()},show:function(){this.cat.style.display="block"},render:function(){var t=u.default.getCurrentCat();this.catNameElement.textContent=t.name,this.catImageElement.src=t.url,this.catClickCounterElement.textContent=t.clicks}};e.default=l},function(t,e,n){"use strict";var r=n(0);(function(t){return t&&t.__esModule?t:{default:t}})(r).default.init()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={data:[{url:"https://www.rd.com/wp-content/uploads/sites/2/2016/02/06-train-cat-shake-hands.jpg",name:"Кися"},{url:"http://www.catster.com/wp-content/uploads/2017/06/small-kitten-meowing.jpg",name:"Блохастик"},{url:"http://www.nationalgeographic.com/content/dam/animals/thumbs/rights-exempt/mammals/d/domestic-cat_thumb.ngsversion.1472140774957.adapt.1900.1.jpg",name:"Мурка"},{url:"http://www.catster.com/wp-content/uploads/2017/08/A-fluffy-cat-looking-funny-surprised-or-concerned.jpg",name:"Туся"},{url:"http://media1.santabanta.com/full1/Animals/Cats/cats-85a.jpg",name:"Мр. мур-мур"},{url:"https://www.wmj.ru/imgs/2016/12/05/09/929194/d1bbd77c2612ef45eee03defa5c373710d7c56e8.jpg",name:"Барсик"}],currentCat:0,loadImgCounter:0,adminFormOpenState:!1};e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var n=[],r=!0,a=!1,u=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,u=t}finally{try{!r&&o.return&&o.return()}finally{if(a)throw u}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=n(0),i=r(u),o=n(2),l=r(o),c=n(1),d=r(c),s={init:function(){this.menuContainer=document.querySelector(".menuContainer"),this.menuContainer.innerHTML="";var t=document.createElement("ul");t.classList.add("menuList");var e=i.default.getAllCats(),n=!0,r=!1,u=void 0;try{for(var o,c=e.entries()[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var s=o.value,f=a(s,2),m=f[0],h=f[1];!function(e,n){var r=document.createElement("li");r.textContent=n.name,r.addEventListener("click",function(){i.default.setCurrentCat(e),i.default.adminFormOpenState()&&d.default.render(),l.default.render()}),t.appendChild(r)}(m,h)}}catch(t){r=!0,u=t}finally{try{!n&&c.return&&c.return()}finally{if(r)throw u}}this.menuContainer.appendChild(t)}};e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),u={init:function(){this.progressBarContainer=document.querySelector(".progressBarContainer"),this.progressBar=document.querySelector(".progressBar")},renderProgressBar:function(){this.progressBar.style.width=a.default.getLoadedPercent()+"%"},hideProgressBar:function(){this.progressBarContainer.style.display="none"}};e.default=u}]);
//# sourceMappingURL=bundle.js.map